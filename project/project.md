Jarvis для 1С» в «Universal AI ERP OS» 
Техническое задание (ТЗ): JSRVIS 1C Mobile
1. Цель проекта
Создание мобильного AI-агента для управления бизнес-процессами в 1С. Система должна преобразовывать неструктурированный ввод (голос, фото, чат) в структурированные вызовы API 1С и предоставлять аналитическую поддержку через RAG (базу знаний).
2. Основные модули
Голосовой интерфейс (Jarvis Voice): Запись аудио через expo-av, транскрибация через Whisper и выполнение команд.
Зрение (Jarvis Vision): Анализ фото накладных и ценников через GPT-4o-mini для автоматического создания документов.
Библиотекарь (RAG): Поиск по внутренним инструкциям и регламентам компании из Qdrant.
Интегратор 1С: Прослойка на Nest.js, которая авторизует запросы и переводит намерения AI в OData или HTTP-запросы к 1С.
3. Технические требования
Авторизация через Phone OTP (Supabase).
Поддержка Offline-first для просмотра остатков (Zustand + Persist).
Стриминг ответов LLM для улучшения UX (Vercel AI SDK).
Структура проекта (Monorepo-style в Replit)
Для ускорения разработки мы организуем код так, чтобы типизация была сквозной.
Концепция «AI Adapter Pattern»
Вместо того чтобы писать код под каждую систему (1С, МойСклад, Odoo, SAP), мы создаем абстрактный слой.
Как это работает:
Пользователь вводит настройки: URL системы, Тип (REST/OData/GraphQL), API-ключ.
Спецификация (Swagger/OpenAPI): Пользователь либо выбирает пресет (например, «1С:УНФ»), либо вставляет ссылку на свою документацию API (JSON/YAML).
LLM-маппинг: Когда юзер говорит «Сколько у нас кофе?», LLM не ищет функцию get1CStock(). Она смотрит в загруженную спецификацию API и понимает: «Ага, в этой системе для остатков нужно вызвать GET /v1/inventory с фильтром name».
2. Использование MCP (Model Context Protocol)
3. Архитектура «Бюджетной Универсальности»
Чтобы сделать систему универсальной и позволить юзеру подключать свои LLM и свои ERP, не переписывая код, мы используем три концепции:
1. BYO-LLM (Bring Your Own LLM)
Большинство провайдеров (Groq, Together AI, OpenRouter, Ollama) поддерживают OpenAI-compatible API.
Реализация: В приложении создаем экран Settings, где юзер вводит:
Base URL (например, http://localhost:11434/v1 для Ollama или https://api.groq.com).
API Key.
Model Name (например, llama3-70b).
Код: Твой Vercel AI SDK просто меняет baseURL в конфигурации. Это 15 минут работы.
2. Универсальный ERP-коннектор (The Adapter)
Вместо того чтобы учить модель работать с «1С», мы учим её работать с OpenAPI (Swagger).
Фишка: Юзер дает ссылку на JSON-спецификацию своей системы.
Процесс: Твой бэкенд на Nest.js парсит этот JSON и динамически генерирует Tools (Function Calling) для модели.
Результат: Если в API его бухгалтерии есть метод /create_invoice, ИИ сам увидит его и поймет, какие поля туда передать.
3. MCP (Model Context Protocol) — Твой козырь
Интегрируй поддержку MCP. Это позволит пользователям просто подключать готовые «серверы» для Google Sheets, PostgreSQL или любой ERP. Replit активно поддерживает этот стандарт.
Local-First (Бюджетность): Добавь пресет для Ollama. Это покажет судьям, что твой продукт может работать в закрытом контуре компании без затрат на токены — это огромный плюс для корпоративного сектора